<!doctype html>
<html manifest="man.appcache" lang="en">
    <head>
        <title>
            HTML5 and Javascript
        </title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="style.css" />
        <link rel="apple-touch-icon" href="http://antonioortegajr.com/wp-content/uploads/HTML5_Badge_64.png" />
        <link rel="apple-touch-icon-precomposed" href="http://antonioortegajr.com/wp-content/uploads/HTML5_Badge_64.png" />
		<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/styles/default.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
    </head>
    <body>
        <div class="nav">
            <div class="container">
                <span class="hamburger-icon" onclick="openNav()">&#9776; open</span>
                <div id="sidenav" class="sidenav">
                    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                    <a href="index.html">Home <i class="fa fa-home"></i></a>
                    <a href="battery.html">Battery data <i class="fa fa-battery-4"></i></a>
                    <a href="canvas.html">Camera stream <i class="fa fa-camera"></i></a>
                    <a href="geolocation.html">Geo Location <i class="fa fa-map-marker"></i></a>
                    <a href="light.html">Ambiant light <i class="fa fa-lightbulb-o"></i></a>
                    <a href="patternregex.html">Pattern Regex <i class="fa fa-binoculars"></i></a>
                    <a href="orientation.html">Orientation <i class="fa fa-mail-forward"></i></a>
                    <a href="vibration.html">Vibration <i class="fa fa-exclamation"></i></a>
                </div>
            </div>
        </div>
        <script type="text/javascript" src="scripts/main.js">
        </script>
        <div class="container">
            <h1>
                Web APIs
                <small>
                    Regex Filtering with the Pattern Attribute
                </small>
            </h1>

			<div class="orientation">
				<h2>
					Orientation
				</h2>
				<p>
					Shake and Gyroscope
					<button onclick="orientation()">
						Activate Orientation
					</button>
				</p>

				<div class="garden">
					<div class="ball"></div>
				</div>
				<pre class="output"></pre>
				<pre><code>
var ball   = document.querySelector('.ball');
var garden = document.querySelector('.garden');
var output = document.querySelector('.output');

var maxX = garden.clientWidth  - ball.clientWidth;
var maxY = garden.clientHeight - ball.clientHeight;

function handleOrientation(event) {
  var x = event.beta;  // In degree in the range [-180,180]
  var y = event.gamma; // In degree in the range [-90,90]

  output.innerHTML  = "beta : " + x + "\n";
  output.innerHTML += "gamma: " + y + "\n";

  // Because we don't want to have the device upside down
  // We constrain the x value to the range [-90,90]
  if (x >  90) { x =  90};
  if (x < -90) { x = -90};

  // To make computation easier we shift the range of
  // x and y to [0,180]
  x += 90;
  y += 90;

  // 10 is half the size of the ball
  // It center the positioning point to the center of the ball
  ball.style.top  = (maxX*x/180 - 10) + "px";
  ball.style.left = (maxY*y/180 - 10) + "px";
}

window.addEventListener('deviceorientation', handleOrientation);
				</code></pre>
				<style type="text/css">
					.garden {
						position: relative;
						width : 200px;
						height: 200px;
						border: 5px solid #CCC;
						border-radius: 10px;
					}

					.ball {
						position: absolute;
						top   : 90px;
						left  : 90px;
						width : 20px;
						height: 20px;
						background: green;
						border-radius: 100%;
					}
				</style>
				<script>
					var ball   = document.querySelector('.ball');
					var garden = document.querySelector('.garden');
					var output = document.querySelector('.output');

					var maxX = garden.clientWidth  - ball.clientWidth;
					var maxY = garden.clientHeight - ball.clientHeight;

					function handleOrientation(event) {
					  var x = event.beta;  // In degree in the range [-180,180]
					  var y = event.gamma; // In degree in the range [-90,90]

					  output.innerHTML  = "beta : " + x + "\n";
					  output.innerHTML += "gamma: " + y + "\n";

					  // Because we don't want to have the device upside down
					  // We constrain the x value to the range [-90,90]
					  if (x >  90) { x =  90};
					  if (x < -90) { x = -90};

					  // To make computation easier we shift the range of
					  // x and y to [0,180]
					  x += 90;
					  y += 90;

					  // 10 is half the size of the ball
					  // It center the positioning point to the center of the ball
					  ball.style.top  = (maxX*x/180 - 10) + "px";
					  ball.style.left = (maxY*y/180 - 10) + "px";
					}

					window.addEventListener('deviceorientation', handleOrientation);
				</script>
			</div>
		</div>
	</body>
</html>